{% extends "layouts/base.html" %}

{% block title %} Gyerek űrlap{% endblock %} 

<!-- Element injected in the BODY element -->
{% block body_class %} sidebar-mini pace-primary {% endblock body_class %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="/static/assets/plugins/fontawesome-free/css/all.min.css">
  <!-- adminlte-->
  <link rel="stylesheet" href="/static/assets/css/adminlte.min.css">

  <link rel="stylesheet" href="/static/assets/css/jquery.datetimepicker.min.css" >
   <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.dataTables.min.css">
    <style>
              tfoot input {
                  width: 100%;
                  padding: 3px;
                  box-sizing: border-box;
                   }

</style>

{% endblock stylesheets %}

{% block content %}  

  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        
          
            <h1>{{gyerek.nev}} űrlapja </h1>
          
          
        
      </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">

      <!-- Default box -->
      <div class="card">
        <div class="card-header">
        </div>


        <div class="card-body">
        <div class="row">
        <div class='col'>
                    <form action="" method="POST">
                      {% csrf_token %}

                      {% for field in form %}
                        {{ field.label_tag }}<br>{{ field }}<br>
                      {% endfor %}
                      
                      <br>
                      {{ formset.management_form }}
                      {% for form in formset %}
                        {{ form }}<br>
                      {% endfor %}

                      <hr style="width:50%;text-align:left;margin-left:0">
                      A *-al jelölt mezők kitöltése kötelező!
                      <button class="btn btn-danger" type="submit">Mentés</button>
                      </form>
                  </div> <!-- col lezárása -->
                  <div class='col'>
                  {% if gyerektocsoportok %}              

                        <h3>Terápiái:</h3>
                        {% for gyerektocsoport in gyerektocsoportok %}
                      <br>
                      <a href="{% url 'terapia_mod' gyerektocsoport.csoport.id %} ">{{ gyerektocsoport.csoport }}</a>
                      <br>							
                        {% endfor %}
                        {% endif %}


                  </div> <!-- col lezárása -->
                  </div> <!-- row lezárása -->
            </div><!-- card body lezárása -->
                  
                  <!-- /.card-body -->
                  <div class="card-footer">
                

        </div>
        <!-- /.card-footer-->
      </div>
      <!-- /.card -->

      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Órái:</h3>          
        </div>
        <div class="card-body">
        <table id="tabla" class="table table-striped table-bordered" >
          
              <thead class="thead-light">
                    <tr>
                      <th scope="col">Terápia/óra</th>
                      <th scope="col">Kezdés</th>
                      <th scope="col">Befejezés</th>
                      <th scope="col">Megtartott</th>
                                       
                    </tr>
              </thead>
              <tbody>
                  {% for ora in orak %}
                  <tr>
                    
                      <td><a href="{% url 'ora_mod' ora.id %}">{{ ora.csoport }} </a></td>
                      <td>{{ ora.kezdes|date:'Y-m-d H:i' }}</td>
                      <td>
                               {% for guru in ora.csoport.guruk  %}
                                    <a href="{% url 'guru_mod' guru.guru.id %}">{{ guru.guru.nev }}</a>
                               {% endfor %}
                      </td>
                      <!--td>{{ ora.befejezes|date:'Y-m-d H:i' }}</td-->
                      <td>{% if ora.megtartott %} Megtartott {% else %} Nyitott {% endif %}</td>
                      
                  </tr>
                {% endfor %}
              </tbody>
          </table>
         
        </div>
        <!-- /.card-body -->
        <div class="card-footer">
        </div>
      </div>
      

    </section>
    <!-- /.content -->
  </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

  <!-- jQuery -->
  <script src="/static/assets/plugins/jquery/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <script src="/static/assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- pace-progress -->
  <script src="/static/assets/plugins/pace-progress/pace.min.js"></script>
  <!-- AdminLTE App -->
  <script src="/static/assets/js/adminlte.min.js"></script>
  <!-- AdminLTE for demo purposes -->
  <script src="/static/assets/js/demo.js"></script>

  <script src="/static/assets/plugins/jquery/jquery.datetimepicker.full.min.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.print.min.js"></script>
  
	


  <script>
  $(document).ready(function() {
    // Setup - add a text input to each footer cell
    $('#tabla thead tr').clone(true).appendTo( '#tabla thead' );
    $('#tabla thead tr:eq(1) th').each(function (i) {
                if (!$(this).hasClass("noFilter")) {
                    var title = $(this).text();
                    $(this).html('<input type="text" placeholder="Keres:' + title + '" />');

                    $('input', this).on('keyup change', function () {
                        if (table.column(i).search() !== this.value) {
                            table
                                .column(i)
                                .search(this.value)
                                .draw();
                        }
                    });
                }
                else {
                    $(this).html('<span></span>');
                }

            });

    var table = $('#tabla').DataTable( {
        orderCellsTop: true,
        fixedHeader: true,
        "dom":
           "<'row'<'col-sm-12'B>>" +
          "<'row'<'col-sm-12 col-md-6'lf><'col-sm-12 col-md-6'p>>" +
          "<'row'<'col-sm-12'tr>>" +
          "<'row'<'col-sm-12 col-md-6'i><'col-sm-6 col-md-3'>>",
        "language": {
          "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Hungarian.json"
              },
        "buttons": ['copy', 'excel', 'pdf', 'print'],
        "lengthMenu": [[15, 30, 50, -1], [15, 30, 50, "Mind"]]
    } );
} );
  </script>

  
  <script>
    $(function () {
      $.datetimepicker.setLocale('hu');
      $("#id_szul_ido").datetimepicker({
        timepicker: false,
        format: 'Y-m-d',
      });
    });
  </script>


{% endblock javascripts %}
